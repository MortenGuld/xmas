:root{--color-bg-deep: #0a0a1a;--color-bg-mid: #0f1525;--color-bg-light: #1a2540;--color-gold: #ffd700;--color-gold-light: #ffe66d;--color-red: #c41e3a;--color-red-light: #ff4757;--color-green: #00843d;--color-green-light: #2ed573;--color-white: #ffffff;--color-snow: #e8f4ff;--font-main: "Segoe UI", system-ui, -apple-system, sans-serif}*{margin:0;padding:0;box-sizing:border-box}html,body{height:100%;overflow:hidden;touch-action:none;user-select:none;-webkit-user-select:none}body{font-family:var(--font-main);background:radial-gradient(ellipse at center bottom,var(--color-bg-light) 0%,var(--color-bg-mid) 40%,var(--color-bg-deep) 100%);color:var(--color-snow);cursor:default}body.holding-hat{cursor:grabbing}#app{min-height:100vh;position:relative;overflow:hidden}#effects-container{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:0;overflow:hidden}.aurora{position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(0,255,127,.03) 0%,rgba(0,191,255,.02) 30%,rgba(138,43,226,.02) 60%,transparent 100%);animation:auroraShift 20s ease-in-out infinite}@keyframes auroraShift{0%,to{opacity:.5;transform:translate(-5%)}50%{opacity:.8;transform:translate(5%)}}.star{position:absolute;width:var(--star-size, 3px);height:var(--star-size, 3px);background:#fff;border-radius:50%;animation:twinkle var(--twinkle-duration, 3s) ease-in-out infinite;animation-delay:var(--twinkle-delay, 0s);box-shadow:0 0 6px 2px #ffffff4d}@keyframes twinkle{0%,to{opacity:.3;transform:scale(.8)}50%{opacity:1;transform:scale(1.2)}}.christmas-lights{position:absolute;top:0;left:0;right:0;display:flex;justify-content:space-around;padding:0 10px;z-index:100}.christmas-lights:before{content:"";position:absolute;top:8px;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent 0%,#2d4a2d 10%,#2d4a2d 90%,transparent 100%)}.light-bulb{width:14px;height:20px;background:var(--color);border-radius:0 0 50% 50%;position:relative;top:8px;box-shadow:0 0 15px var(--color),0 0 30px var(--color);animation:lightGlow 1.5s ease-in-out infinite;animation-delay:var(--delay, 0s)}.light-bulb:before{content:"";position:absolute;top:-6px;left:50%;transform:translate(-50%);width:8px;height:8px;background:#444;border-radius:2px}@keyframes lightGlow{0%,to{opacity:.6;filter:brightness(.8)}50%{opacity:1;filter:brightness(1.3)}}#snowfall-container{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:1;overflow:hidden}.snowflake{position:absolute;top:-10px;background:radial-gradient(circle,rgba(255,255,255,.95) 0%,rgba(255,255,255,.4) 40%,transparent 70%);border-radius:50%;animation:snowfall linear forwards;--drift: 0px}@keyframes snowfall{0%{transform:translateY(0) translate(0) rotate(0);opacity:0}5%{opacity:1}95%{opacity:.8}to{transform:translateY(100vh) translate(var(--drift)) rotate(720deg);opacity:0}}header{position:fixed;top:0;left:0;right:0;z-index:50;padding:1rem;background:linear-gradient(180deg,rgba(10,10,26,.9) 0%,transparent 100%);pointer-events:none}.header-content{display:flex;justify-content:space-between;align-items:center;max-width:1000px;margin:0 auto;pointer-events:auto}h1{font-size:clamp(1.2rem,4vw,1.8rem);font-weight:600;color:var(--color-snow);display:flex;align-items:center;gap:.5rem;text-shadow:0 2px 10px rgba(0,0,0,.5)}.title-icon{font-size:1.2em;animation:bounce 2s ease-in-out infinite}.title-icon:last-child{animation-delay:1s}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.progress-container{display:flex;align-items:center;gap:1rem;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:.5rem 1rem;border-radius:50px;border:1px solid rgba(255,255,255,.1)}.progress-label{font-size:.8rem;opacity:.7}.progress-display{display:flex;align-items:center;gap:.75rem}.progress-text{font-size:1.1rem;font-weight:600;color:var(--color-gold);min-width:50px}.progress-bar{width:100px;height:8px;background:#0000004d;border-radius:4px;overflow:hidden}#progress-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--color-green),var(--color-green-light));border-radius:4px;transition:width .4s ease;box-shadow:0 0 10px var(--color-green-light)}#game-container{position:fixed;top:0;right:0;bottom:0;left:0;z-index:10}.floating-ornament{position:absolute;width:100px;height:140px;cursor:pointer;z-index:20;transition:filter .2s ease}.floating-ornament:hover{filter:brightness(1.1);z-index:25}.floating-ornament:focus{outline:none}.floating-ornament:focus .ornament-shell{filter:drop-shadow(0 0 15px var(--color-gold))}.ornament-container{position:relative;width:100%;height:120px}.ornament-shell{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1}.ornament-glow{transition:opacity .3s ease}.floating-ornament:hover .ornament-glow{opacity:.8!important}.floating-ornament.has-hat .ornament-glow{opacity:1!important}.ornament-avatar{position:absolute;top:26px;left:50%;transform:translate(-50%);width:70px;height:70px;border-radius:50%;overflow:hidden;z-index:2}.ornament-avatar .avatar-svg{width:100%;height:100%}.avatar-photo-wrapper{width:100%;height:100%;border-radius:50%;overflow:hidden}.avatar-photo{width:100%;height:100%;object-fit:cover;object-position:center top;border-radius:50%;pointer-events:none}.avatar-initials{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;font-size:1.8rem;font-weight:600;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3)}.ornament-hat-slot{position:absolute;top:-10px;left:50%;transform:translate(-50%);width:60px;height:50px;z-index:3}.ornament-name{text-align:center;font-size:.85rem;font-weight:500;color:var(--color-snow);margin-top:5px;text-shadow:0 2px 4px rgba(0,0,0,.5)}.ornament-shadow{position:absolute;bottom:15px;left:50%;transform:translate(-50%);width:60px;height:15px;background:radial-gradient(ellipse,rgba(0,0,0,.3) 0%,transparent 70%);z-index:0}.floating-ornament.has-hat{cursor:default}.floating-ornament.has-hat .ornament-container{animation:gentlePulse 3s ease-in-out infinite}@keyframes gentlePulse{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}.falling-hat{position:absolute;width:80px;height:70px;cursor:grab;z-index:100;filter:drop-shadow(0 5px 15px rgba(0,0,0,.4));transition:filter .15s ease}.falling-hat:hover{filter:drop-shadow(0 8px 20px rgba(0,0,0,.5)) drop-shadow(0 0 20px rgba(255,215,0,.4));z-index:101}.falling-hat:focus{outline:none;filter:drop-shadow(0 0 20px var(--color-gold))}.falling-hat.picked-up{cursor:grabbing;z-index:200;filter:drop-shadow(0 10px 30px rgba(0,0,0,.6)) drop-shadow(0 0 30px rgba(255,215,0,.5))}.falling-hat.thrown{pointer-events:none;z-index:150}.falling-hat.placed{cursor:default;pointer-events:none;z-index:30;filter:drop-shadow(0 3px 8px rgba(0,0,0,.3))}.hat-svg{width:100%;height:100%}#instructions{position:fixed;bottom:2.5rem;left:50%;transform:translate(-50%);display:flex;gap:2rem;z-index:50;animation:fadeInUp .5s ease .5s both}@keyframes fadeInUp{0%{opacity:0;transform:translate(-50%) translateY(20px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.instruction-step{display:flex;align-items:center;gap:.5rem;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:.6rem 1rem;border-radius:50px;font-size:.9rem;color:var(--color-snow);border:1px solid rgba(255,255,255,.15)}.step-icon{font-size:1.2rem}#controls{position:fixed;top:1rem;right:1rem;z-index:100}.control-btn{width:44px;height:44px;border-radius:50%;border:1px solid rgba(255,255,255,.2);background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.control-btn svg{width:22px;height:22px}.control-btn:hover{background:#fff3;transform:scale(1.1)}.control-btn:focus{outline:none;box-shadow:0 0 0 3px var(--color-gold)}#keyboard-hints{position:fixed;bottom:.75rem;right:1rem;font-size:.75rem;color:#fff6;z-index:50;display:flex;gap:1rem}#keyboard-hints kbd{background:#ffffff1a;padding:.2em .5em;border-radius:4px;margin-right:.3em}#overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:radial-gradient(ellipse at center,#0a0a1aeb,#0a0a1afa);display:flex;align-items:center;justify-content:center;z-index:500;opacity:0;visibility:hidden;transition:all .5s ease}#overlay.visible{opacity:1;visibility:visible}.overlay-content{text-align:center;padding:2rem;animation:overlayPop .6s ease .2s both}@keyframes overlayPop{0%{opacity:0;transform:scale(.8) translateY(30px)}to{opacity:1;transform:scale(1) translateY(0)}}.overlay-decorations{font-size:2rem;margin-bottom:1rem;display:flex;justify-content:center;gap:1rem}.overlay-decorations span{animation:decorationFloat 2s ease-in-out infinite}.overlay-decorations span:nth-child(2){animation-delay:.3s;font-size:3rem}.overlay-decorations span:nth-child(3){animation-delay:.6s}@keyframes decorationFloat{0%,to{transform:translateY(0) rotate(-5deg)}50%{transform:translateY(-10px) rotate(5deg)}}.overlay-title{font-size:clamp(2rem,8vw,4rem);font-weight:300;margin-bottom:1.5rem;background:linear-gradient(135deg,var(--color-gold),var(--color-gold-light),var(--color-gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.overlay-message{font-size:clamp(1.1rem,3vw,1.4rem);line-height:1.8;color:var(--color-snow);margin-bottom:.75rem;opacity:.95}.overlay-submessage{font-size:clamp(.95rem,2.5vw,1.15rem);line-height:1.7;color:var(--color-snow);margin-bottom:1.5rem;opacity:.85}.vibe-text{display:inline-block;background:linear-gradient(135deg,#ff6b6b,#feca57,#48dbfb,#ff9ff3,#54a0ff);background-size:300% 300%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700;font-size:1.2em;letter-spacing:.1em;animation:vibeGradient 3s ease infinite;text-shadow:none}@keyframes vibeGradient{0%,to{background-position:0% 50%}50%{background-position:100% 50%}}.vibe-hint{display:block;margin-top:.75rem;font-size:.9em;opacity:.8;color:#a8e6cf}.overlay-signature{font-style:italic;color:var(--color-gold);margin-bottom:1.5rem;font-size:1.1rem}.overlay-footer{margin-top:1.5rem}.retro-badge{display:inline-block;background:linear-gradient(135deg,#ff6b6b33,#54a0ff33);border:1px solid rgba(255,255,255,.2);padding:.4rem 1rem;border-radius:20px;font-size:.8rem;color:#ffffffb3;letter-spacing:.05em}#play-again-btn{padding:1rem 2.5rem;font-size:1.1rem;font-weight:600;background:linear-gradient(135deg,var(--color-red),var(--color-red-light));color:#fff;border:none;border-radius:50px;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .2s ease;box-shadow:0 5px 20px #c41e3a66}#play-again-btn:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 30px #c41e3a80}#play-again-btn:focus{outline:none;box-shadow:0 0 0 3px var(--color-gold),0 5px 20px #c41e3a66}.magic-dust{position:fixed;width:8px;height:8px;background:var(--color-gold);border-radius:50%;pointer-events:none;z-index:1000;box-shadow:0 0 10px var(--color-gold)}.sparkle-particle{box-shadow:0 0 10px currentColor}@media (max-width: 768px){.header-content{flex-direction:column;gap:.75rem}h1{font-size:1.3rem}.progress-container{width:100%;justify-content:center}#instructions{flex-direction:column;gap:.5rem;bottom:4rem}.floating-ornament{width:85px;height:120px}.ornament-avatar{width:55px;height:55px;top:24px}.ornament-name{font-size:.75rem}}@media (max-width: 480px){.floating-ornament{width:70px;height:100px}.ornament-avatar{width:45px;height:45px;top:22px}.falling-hat{width:65px;height:55px}}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}.snowflake,.star{display:none}}:focus-visible{outline:2px solid var(--color-gold);outline-offset:2px}
